{"remainingRequest":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\components\\Comment.vue?vue&type=style&index=0&id=133ed8df&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\components\\Comment.vue","mtime":1595128598000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiLi4vYXNzZXRzL2Nzcy9jb25maWciOwouQ29tbWVudCB7CiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgYm9yZGVyOiAxcHggc29saWQgI2ViZWJlYjsKICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgyNiwgMjYsIDI2LCAwLjEpOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgbWFyZ2luLXRvcDogMTJweDsKICBib3JkZXItcmFkaXVzOiA0cHg7CgogICZUb3BCYXIgewogICAgYmFja2dyb3VuZDogI2ZmZjsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjZmNmY2OwogICAgaGVpZ2h0OiA1MHB4OwogICAgcGFkZGluZzogMCAyMHB4OwogICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgfQogIC5Db21tZW50SXRlbSB7CiAgICBwYWRkaW5nOiAxMnB4IDIwcHggMTBweDsKICAgIGZvbnQtc2l6ZTogMTVweDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB9CiAgLkNvbW1lbnRJdGVtLW1ldGEgewogICAgZGlzcGxheTogZmxleDsKICAgIGhlaWdodDogMjRweDsKICAgIG1hcmdpbi1ib3R0b206IDRweDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB3aWR0aDogMTAwJTsKICAgIC5Db21tZW50SXRlbS1hdmF0YXIgewogICAgICB3aWR0aDogMjRweDsKICAgICAgaGVpZ2h0OiAyNHB4OwogICAgICBtYXJnaW4tcmlnaHQ6IDhweDsKICAgIH0KICAgIC5Db21tZW50SXRlbS1uYW1lIHsKICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgZmxleDogMTsKICAgIH0KICAgIC5Db21tZW50SXRlbS10aW1lIHsKICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICBjb2xvcjogJGZvbnRDb2xvcjsKICAgIH0KICB9CiAgLy8g6K+E6K66CiAgLkNvbW1lbnRJdGVtLXJlcGx5IHsKICAgIHBhZGRpbmc6IDIwcHggMCAxMnB4IDIwcHg7CiAgICBjb2xvcjogJGZvbnRDb2xvcjsKICAgIC5Db21tZW50UmVwbHktdXNlcnMgewogICAgICBmbGV4OiAxOwogICAgfQogICAgLkNvbW1lbnRSZXBseS1uYW1lIHsKICAgICAgY29sb3I6ICMxYTFhMWE7CiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICB9CiAgfQogIC8v5YaZ6K+E6K66CiAgLkNvbW1lbnQtZm9vdGVyIHsKICAgIHRyYW5zaXRpb246IGFsbCAwLjVzOwogICAgcGFkZGluZzogMTJweCAwIDEycHggMjBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgLmVsLXRleHRhcmVhIHsKICAgICAgd2lkdGg6IDg2JTsKICAgIH0KICAgIC5Db21tZW50UmVwbHktaW5wdXQgewogICAgICBwYWRkaW5nOiA2cHggMTJweDsKICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICBib3JkZXI6IDFweCBzb2xpZCAkZm9udENvbG9yOwogICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICB9CiAgICAuQ29tbWVudFJlcGx5LWJ1dHRvbiB7CiAgICAgIGhlaWdodDogMzZweDsKICAgICAgbGluZS1oZWlnaHQ6IDM2cHg7CiAgICAgIHBhZGRpbmc6IDAgMTJweDsKICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7CiAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICBiYWNrZ3JvdW5kOiAkbWFpbkNvbG9yOwogICAgfQogIH0KfQovL+eUqOaIt+WNoeeJhwouVXNlckNhcmQtd3JhcCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBwYWRkaW5nOiAwIDEwcHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIC5Vc2VyTWVzc2FnZSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZm9udC1zaXplOiAxNnB4OwogICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlYmViOwogIH0KICAuVXNlckF2YXRhci13cmFwIHsKICAgIHdpZHRoOiA2MHB4OwogICAgaGVpZ2h0OiA0MHB4OyAvL+WPquaYr+S4uuS6huaSkei1t+S4gOWumumrmOW6pu+8jOS4jeS4gOWumuimgei3n+WbvueJh+S4gOagt+mrmAogICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogIH0KICAuVXNlckF2YXRhciB7CiAgICB3aWR0aDogNjBweDsKICAgIGhlaWdodDogNjBweDsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogLTMwcHg7CiAgfQogIC5Vc2VyQ29udGVudCB7CiAgICBtYXJnaW4tdG9wOiAxMnB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgIC5Vc2VyQ29udGVudC1kZXRhaWwgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAuVXNlckNvbnRlbnQtdGl0bGUgewogICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICBjb2xvcjogJGZvbnRDb2xvcjsKICAgICAgfQogICAgICAuVXNlckNvbnRlbnQtbnVtIHsKICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIH0KICAgIH0KICB9CiAgLlVzZXJCdXR0b24gewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgIGZvbnQtc2l6ZTogMTVweDsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAuQXR0ZW50aW9uQnRuIHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG1haW5Db2xvcjsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIHdpZHRoOiAxNDBweDsKICAgICAgaGVpZ2h0OiAzNnB4OwogICAgICBsaW5lLWhlaWdodDogMzZweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICRtYWluQ29sb3I7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICAgIC5DaGF0QnRuIHsKICAgICAgY29sb3I6ICRmb250Q29sb3I7CiAgICAgIHdpZHRoOiAxNDBweDsKICAgICAgaGVpZ2h0OiAzNnB4OwogICAgICBsaW5lLWhlaWdodDogMzZweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICRmb250Q29sb3I7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICB9Cn0KLy/liIbpobUKLlBhZ2luYXRpb25XcmFwIHsKICBwYWRkaW5nOiAwIDQwcHg7Cn0K"},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/components","sourcesContent":["<!-- 评论功能 -->\n<template>\n  <div class=\"Comment\">\n    <div class=\"CommentTopBar\">{{commentList.totalNum}}条评论</div>\n    <div class=\"CommentItem\" v-for=\"(item,index) in commentList.data\" :key=\"index\">\n      <!-- 评论头 -->\n      <div class=\"CommentItem-meta\">\n        <!-- 个人信息 -->\n            <user-card :user=\"item.user\"></user-card>\n        <span class=\"CommentItem-name\">{{item.user.name}}</span>\n        <span class=\"CommentItem-time\">{{item.time}}</span>\n      </div>\n      <!-- 评论内容 -->\n      <comment-body :commentMsg=\"item\" @addReply=\"addReply\"></comment-body>\n      <template v-if=\"item.replies.data.length>0\">\n        <div\n          class=\"CommentItem-reply\"\n          v-for=\"(reply,replyIndex) in item.replies.data\"\n          :key=\"replyIndex\"\n        >\n          <!-- 回复头 -->\n          <div class=\"CommentItem-meta\">\n            <!-- 个人信息 -->\n            <user-card :user=\"reply.user\"></user-card>\n            <div class=\"CommentReply-users\">\n              <span class=\"CommentReply-name\">{{reply.user.name}}</span>\n              回复\n              <span class=\"CommentReply-name\">{{reply.responder.name}}</span>\n            </div>\n            <span class=\"CommentItem-time\">{{reply.time}}</span>\n          </div>\n          <!-- 评论内容 -->\n          <comment-body :commentMsg=\"reply\" @addReply=\"addReply\"></comment-body>\n        </div>\n      </template>\n    </div>\n    <!-- 分页 -->\n    <div class=\"PaginationWrap\">\n      <el-pagination\n        layout=\"prev, pager, next\"\n        :total=\"commentList.totalNum\"\n        :hide-on-single-page=\"true\"\n        @current-change=\"changePage\"\n      ></el-pagination>\n    </div>\n    <div class=\"Comment-footer\">\n      <el-input type=\"textarea\" resize=\"none\" autosize placeholder=\"写下你的评论……\" v-model=\"comment\"></el-input>\n      <button class=\"CommentReply-button\" :disabled=\"comment.length==0\" @click=\"publishComment\">发布</button>\n    </div>\n  </div>\n</template>\n<script>\nimport CommentBody from \"@/components/CommentBody.vue\";\nimport UserCard from \"@/components/UserCard.vue\";\n\nexport default {\n  name: \"comment\",\n  components: {\n    CommentBody,\n    UserCard\n  },\n  props: {\n    id: Number\n  },\n  data() {\n    return {\n      commentList: [\n        {\n          name: \"英雄登场\",\n          time: \"04-11\",\n          commentMsg: {\n            id: 1,\n            name: \"英雄登场\",\n            content: \"你在说什么玩意\",\n            likeNum: \"12\",\n            isLike: true,\n            isDislike: false\n          },\n          replys: [\n            {\n              name: \"回复的人\",\n              responded: \"被回复的人\",\n              time: \"04-11\",\n              commentMsg: {\n                id: 2,\n                name: \"回复的人\",\n                content: \"你管我说什么玩意\",\n                likeNum: \"0\",\n                isLike: false,\n                isDislike: false\n              }\n            }\n          ]\n        },\n        {\n          name: \"英雄登场\",\n          time: \"04-11\",\n          commentMsg: {\n            id: 3,\n            name: \"英雄登场\",\n            content: \"你在说什么玩意\",\n            likeNum: \"12\",\n            isLike: true,\n            isDislike: false\n          },\n          replys: [\n            {\n              name: \"回复的人\",\n              responded: \"被回复的人\",\n              time: \"04-11\",\n              commentMsg: {\n                id: 4,\n                name: \"回复的人\",\n                content: \"你管我说什么玩意\",\n                likeNum: \"0\",\n                isLike: false,\n                isDislike: false\n              }\n            }\n          ]\n        },\n        {\n          name: \"英雄登场\",\n          time: \"04-11\",\n          commentMsg: {\n            id: 5,\n            name: \"英雄登场\",\n            content: \"你在说什么玩意\",\n            likeNum: \"12\",\n            isLike: true,\n            isDislike: false\n          },\n          replys: [\n            {\n              name: \"回复的人\",\n              responded: \"被回复的人\",\n              time: \"04-11\",\n              commentMsg: {\n                name: \"回复的人\",\n                id: 6,\n                content:\n                  \"你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意你管我说什么玩意\",\n                likeNum: \"12\",\n                isLike: true,\n                isDislike: false\n              }\n            }\n          ]\n        }\n      ],\n      comment: \"\",\n      currentPage: 1\n    };\n  },\n  mounted() {\n    this.getComment(this.currentPage);\n  },\n  methods: {\n    //获取评论\n    getComment(page) {\n      this.axios\n        .get(`/comment/list?id=${this.id}&type=${1}&page=${page}`)\n        .then(res => {\n          console.log(res);\n          this.commentList = res.data;\n        });\n    },\n    //改变评论页面\n    changePage(pageNum) {\n      this.currentPage = pageNum;\n      this.getComment(this.currentPage);\n    },\n    //回复评论内容\n    addReply() {\n      this.getComment(this.currentPage);\n    },\n    //发表评论\n    publishComment(id) {\n      let param = {\n        content: this.comment,\n        id: this.id,\n        type: 1\n      };\n      this.axios.post(\"/comment/add\", param).then(res => {\n        if (res.status == 200) {\n          this.$message({\n            message: \"评论成功\",\n            type: \"success\"\n          });\n        }\n        this.comment = \"\";\n        this.getComment(this.currentPage);\n      });\n    }\n  }\n};\n</script>\n<style lang='scss' scoped>\n@import \"../assets/css/config\";\n.Comment {\n  transition: all 0.3s;\n  border: 1px solid #ebebeb;\n  box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);\n  background: #fff;\n  margin-top: 12px;\n  border-radius: 4px;\n\n  &TopBar {\n    background: #fff;\n    border-bottom: 1px solid #f6f6f6;\n    height: 50px;\n    padding: 0 20px;\n    line-height: 50px;\n  }\n  .CommentItem {\n    padding: 12px 20px 10px;\n    font-size: 15px;\n    position: relative;\n  }\n  .CommentItem-meta {\n    display: flex;\n    height: 24px;\n    margin-bottom: 4px;\n    align-items: center;\n    width: 100%;\n    .CommentItem-avatar {\n      width: 24px;\n      height: 24px;\n      margin-right: 8px;\n    }\n    .CommentItem-name {\n      font-weight: 500;\n      flex: 1;\n    }\n    .CommentItem-time {\n      font-size: 14px;\n      color: $fontColor;\n    }\n  }\n  // 评论\n  .CommentItem-reply {\n    padding: 20px 0 12px 20px;\n    color: $fontColor;\n    .CommentReply-users {\n      flex: 1;\n    }\n    .CommentReply-name {\n      color: #1a1a1a;\n      font-weight: 500;\n    }\n  }\n  //写评论\n  .Comment-footer {\n    transition: all 0.5s;\n    padding: 12px 0 12px 20px;\n    display: flex;\n    align-items: center;\n    .el-textarea {\n      width: 86%;\n    }\n    .CommentReply-input {\n      padding: 6px 12px;\n      font-size: 14px;\n      border: 1px solid $fontColor;\n      border-radius: 4px;\n    }\n    .CommentReply-button {\n      height: 36px;\n      line-height: 36px;\n      padding: 0 12px;\n      margin-left: 20px;\n      color: #ffffff;\n      background: $mainColor;\n    }\n  }\n}\n//用户卡片\n.UserCard-wrap {\n  background-color: #fff;\n  padding: 0 10px;\n  position: relative;\n  .UserMessage {\n    display: flex;\n    font-size: 16px;\n    font-weight: 600;\n    border-bottom: 1px solid #ebebeb;\n  }\n  .UserAvatar-wrap {\n    width: 60px;\n    height: 40px; //只是为了撑起一定高度，不一定要跟图片一样高\n    margin-right: 20px;\n  }\n  .UserAvatar {\n    width: 60px;\n    height: 60px;\n    position: absolute;\n    top: -30px;\n  }\n  .UserContent {\n    margin-top: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    .UserContent-detail {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      font-weight: 600;\n      .UserContent-title {\n        font-size: 14px;\n        color: $fontColor;\n      }\n      .UserContent-num {\n        font-size: 16px;\n      }\n    }\n  }\n  .UserButton {\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    font-size: 15px;\n    margin-top: 10px;\n    .AttentionBtn {\n      background-color: $mainColor;\n      color: #fff;\n      width: 140px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      border-radius: 6px;\n      border: 1px solid $mainColor;\n      cursor: pointer;\n    }\n    .ChatBtn {\n      color: $fontColor;\n      width: 140px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      border-radius: 6px;\n      border: 1px solid $fontColor;\n      cursor: pointer;\n    }\n  }\n}\n//分页\n.PaginationWrap {\n  padding: 0 40px;\n}\n</style>"]}]}
{"remainingRequest":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\components\\CommentBody.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\components\\CommentBody.vue","mtime":1595128598000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi9hc3NldHMvY3NzL2NvbmZpZyI7Ci5mYWRlLWVudGVyLWFjdGl2ZSwKLmZhZGUtbGVhdmUtYWN0aXZlIHsKICBvcGFjaXR5OiAxOwp9Ci5mYWRlLWVudGVyLAouZmFkZS1sZWF2ZS10byB7CiAgb3BhY2l0eTogMDsKfQovLyDor4TorrrouqsKLkNvbW1lbnRJdGVtLWJvZHkgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsgLy/kuLrkuobliIblibLnur8KICBjb2xvcjogIzFhMWExYTsKICBwYWRkaW5nOiAwIDAgMTBweCAzM3B4OwoKICAuQ29tbWVudEl0ZW0tY29udGVudCB7CiAgICBtYXJnaW4tYm90dG9tOiA2cHg7CiAgfQogIC5Db21tZW50SXRlbS1pY29ucyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIG1hcmdpbi10b3A6IDRweDsKICAgIGNvbG9yOiAkZm9udENvbG9yOwogICAgLkNvbW1lbnRJdGVtLWljb24gewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAuQ29tbWVudEl0ZW0tZGVzYyB7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIH0KICAgIH0KICAgIC5Ib3Zlckljb24gewogICAgICBtYXJnaW4tbGVmdDogMjBweDsKICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzOwogICAgICBvcGFjaXR5OiAwOwogICAgfQoKICAgICY6aG92ZXIgLkhvdmVySWNvbiB7CiAgICAgIG9wYWNpdHk6IDE7CiAgICB9CiAgICAuc2hvd0ljb24gewogICAgICBvcGFjaXR5OiAxOwogICAgfQogIH0KICAuSXNMaWtlIHsKICAgIGNvbG9yOiAkbWFpbkNvbG9yOwogICAgJjpob3ZlciB7CiAgICAgIGNvbG9yOiAjMTc1MTk5OwogICAgfQogIH0KICAvL+WbnuWkjQogIC5Db21tZW50UmVwbHkgewogICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7CiAgICBwYWRkaW5nOiAxMnB4IDA7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIC5lbC10ZXh0YXJlYSB7CiAgICAgIHdpZHRoOiA4NiU7CiAgICB9CiAgICAuQ29tbWVudFJlcGx5LWlucHV0IHsKICAgICAgcGFkZGluZzogNnB4IDEycHg7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgYm9yZGVyOiAxcHggc29saWQgJGZvbnRDb2xvcjsKICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgfQogICAgLkNvbW1lbnRSZXBseS1idXR0b24gewogICAgICBoZWlnaHQ6IDM2cHg7CiAgICAgIGxpbmUtaGVpZ2h0OiAzNnB4OwogICAgICBwYWRkaW5nOiAwIDEycHg7CiAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4OwogICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgYmFja2dyb3VuZDogJG1haW5Db2xvcjsKICAgIH0KICB9CiAgJjphZnRlciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICBib3R0b206IC01cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMCAyMHB4OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmNmY2ZjY7CiAgICBjb250ZW50OiAiIjsKICB9Cn0K"},{"version":3,"sources":["CommentBody.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentBody.vue","sourceRoot":"src/components","sourcesContent":["  <!-- 评论细节 -->\n<template>\n  <!-- 评论内容 -->\n  <div class=\"CommentItem-body\">\n    <div class=\"CommentItem-content\">{{commentMsg.content}}</div>\n    <div class=\"CommentItem-icons\">\n      <div class=\"CommentItem-icon\" :class=\"{IsLike:commentMsg.isLike}\" @click=\"changeLike\">\n        <span class=\"icon-zan1 iconfont\"></span>\n        <span class=\"CommentItem-desc\">{{commentMsg.likeNum ? commentMsg.likeNum :'0'}}</span>\n      </div>\n      <div\n        class=\"CommentItem-icon HoverIcon\"\n        :class=\"{showIcon:isReply}\"\n        @click=\"isReply = !isReply\"\n      >\n        <span class=\"icon-pinglun1 iconfont\"></span>\n        <span class=\"CommentItem-desc\">{{isReply? '取消回复':'回复'}}</span>\n      </div>\n      <div class=\"CommentItem-icon HoverIcon\" :class=\"{showIcon:isReply}\" @click=\"changeDislike\">\n        <span class=\"icon-cai iconfont\"></span>\n        <span class=\"CommentItem-desc\">{{commentMsg.isDisLike ? \"取消踩\" : \"踩\"}}</span>\n      </div>\n    </div>\n    <!-- 回复 -->\n    <transition name=\"fade\">\n      <div class=\"CommentReply\" v-if=\"isReply\">\n        <el-input\n          type=\"textarea\"\n          resize=\"none\"\n          autosize\n          :placeholder=\"'回复'+commentMsg.user.name\"\n          v-model=\"replyMsg\"\n        ></el-input>\n        <button class=\"CommentReply-button\" :disabled=\"replyMsg.length==0\" @click=\"publishReply\">发表</button>\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"comment-body\",\n  props: {\n    commentMsg: Object,\n    type:Number\n  },\n  data() {\n    return {\n      replyMsg: \"\",\n      disabled: true,\n      isReply: false //是否回复\n    };\n  },\n  methods: {\n    //   点赞\n    changeLike() {\n      if (this.commentMsg.isLike) {\n        //取消赞\n        this.axios\n          .get(`support_cancel?id=${this.commentMsg.id}&type=3`)\n          .then(res => {\n            if (res.status == 200) {\n              this.commentMsg.isLike = !this.commentMsg.isLike;\n              this.commentMsg.likeNum--;\n            }\n          });\n      } else {\n        this.axios.get(`support?id=${this.commentMsg.id}&type=3`).then(res => {\n          if (res.status == 200) {\n            this.commentMsg.isLike = !this.commentMsg.isLike;\n            if (this.commentMsg.isDisLike) {\n              this.commentMsg.isDisLike = false;\n            }\n            this.commentMsg.likeNum++;\n          }\n        });\n      }\n    },\n    //踩\n    changeDislike() {\n      if (this.commentMsg.isDisLike) {\n        //取消踩\n        this.axios\n          .get(`unsupport_cancel?id=${this.commentMsg.id}&type=3`)\n          .then(res => {\n            if (res.status == 200) {\n              this.commentMsg.isDisLike = !this.commentMsg.isDisLike;\n            }\n          });\n      }else{\n         this.axios\n          .get(`unsupport?id=${this.commentMsg.id}&type=3`)\n          .then(res => {\n            if (res.status == 200) {\n              this.commentMsg.isDisLike = !this.commentMsg.isDisLike;\n              if(this.commentMsg.isLike){\n                this.commentMsg.isLike=false;\n                this.commentMsg.likeNum--;\n              }\n\n            }\n          });\n      }\n    },\n    //发布回复\n    publishReply(){\n      let param = {\n        content:this.replyMsg,\n        id:this.commentMsg.id,\n        type:2\n      }\n      this.axios.post('/comment/add',param).then(res=>{\n        if(res.status == 200){\n           this.$message({\n              message: \"评论成功\",\n              type: \"success\"\n            });\n        }\n        this.replyMsg = \"\";\n        this.$emit('addReply');\n      });\n    }\n  }\n};\n</script>\n<style lang='scss' >\n@import \"../assets/css/config\";\n.fade-enter-active,\n.fade-leave-active {\n  opacity: 1;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n// 评论身\n.CommentItem-body {\n  position: relative; //为了分割线\n  color: #1a1a1a;\n  padding: 0 0 10px 33px;\n\n  .CommentItem-content {\n    margin-bottom: 6px;\n  }\n  .CommentItem-icons {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    margin-top: 4px;\n    color: $fontColor;\n    .CommentItem-icon {\n      display: flex;\n      align-items: center;\n      .CommentItem-desc {\n        margin-left: 4px;\n        cursor: pointer;\n      }\n    }\n    .HoverIcon {\n      margin-left: 20px;\n      transition: opacity 0.2s;\n      opacity: 0;\n    }\n\n    &:hover .HoverIcon {\n      opacity: 1;\n    }\n    .showIcon {\n      opacity: 1;\n    }\n  }\n  .IsLike {\n    color: $mainColor;\n    &:hover {\n      color: #175199;\n    }\n  }\n  //回复\n  .CommentReply {\n    transition: all 0.2s;\n    padding: 12px 0;\n    display: flex;\n    align-items: center;\n    .el-textarea {\n      width: 86%;\n    }\n    .CommentReply-input {\n      padding: 6px 12px;\n      font-size: 14px;\n      border: 1px solid $fontColor;\n      border-radius: 4px;\n    }\n    .CommentReply-button {\n      height: 36px;\n      line-height: 36px;\n      padding: 0 12px;\n      margin-left: 20px;\n      color: #ffffff;\n      background: $mainColor;\n    }\n  }\n  &:after {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -5px;\n    display: block;\n    margin: 0 20px;\n    border-bottom: 1px solid #f6f6f6;\n    content: \"\";\n  }\n}\n</style>"]}]}
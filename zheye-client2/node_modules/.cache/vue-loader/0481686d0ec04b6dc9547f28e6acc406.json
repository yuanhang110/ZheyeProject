{"remainingRequest":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\components\\FeedActions.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\components\\FeedActions.vue","mtime":1595128598000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZmVlZC1hY3Rpb24iLAogIHByb3BzOiB7CiAgICBhY3Rpb25zOiBPYmplY3QsCiAgICBpZDogTnVtYmVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNSZXZpZXc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/mlLnlj5jor4TorrrnirbmgIEKICAgIGNoYW5nZVJldmlldygpIHsKICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlUmV2aWV3IiwgIXRoaXMuaXNSZXZpZXcpOwogICAgICB0aGlzLmlzUmV2aWV3ID0gIXRoaXMuaXNSZXZpZXc7CiAgICB9LAogICAgLy/mlLnlj5jotZ7lkIznirbmgIEKICAgIGNoYW5nZUFncmVlKCkgewogICAgICBpZiAodGhpcy5hY3Rpb25zLmlzQWdyZWUpIHsKICAgICAgICAvL+WPlua2iOi1ngogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBzdXBwb3J0X2NhbmNlbD90eXBlPTImaWQ9JHt0aGlzLmlkfWApLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICB0aGlzLmFjdGlvbnMuaXNBZ3JlZSA9ICF0aGlzLmFjdGlvbnMuaXNBZ3JlZTsKICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmFncmVlTnVtLS07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g54K56LWeCiAgICAgICAgdGhpcy5heGlvcy5nZXQoYC9zdXBwb3J0P3R5cGU9MiZpZD0ke3RoaXMuaWR9YCkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5pc0FncmVlID0gIXRoaXMuYWN0aW9ucy5pc0FncmVlOwogICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9ucy5kaXNhZ3JlZSkgewogICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmRpc2FncmVlID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5hZ3JlZU51bSsrOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlRGlzYWdyZWUoKSB7CiAgICAgIGlmICh0aGlzLmFjdGlvbnMuZGlzYWdyZWUpIHsKICAgICAgICAvL+WPlua2iOi4qQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGAvdW5zdXBwb3J0X2NhbmNlbD90eXBlPTImaWQ9JHt0aGlzLmlkfWApLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICB0aGlzLmFjdGlvbnMuZGlzYWdyZWUgPSAhdGhpcy5hY3Rpb25zLmRpc2FncmVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8v6LipCiAgICAgICAgdGhpcy5heGlvcy5nZXQoYC91bnN1cHBvcnQ/dHlwZT0yJmlkPSR7dGhpcy5pZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmRpc2FncmVlID0gIXRoaXMuYWN0aW9ucy5kaXNhZ3JlZTsKICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9ucy5pc0FncmVlKSB7CiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmlzQWdyZWUgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuYWdyZWVOdW0tLTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["FeedActions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FeedActions.vue","sourceRoot":"src/components","sourcesContent":["  <!-- 赞同评论等图标 -->\n<template>\n  <div class=\"ContentItem-actions\">\n    <div class=\"Vote-wrap\" :class=\"{ChangeStatus:actions.isAgree}\" @click=\"changeAgree\">\n      <span class=\"icon-down-fill-xs iconfont\"></span>\n      <span\n        class=\"Vote-desc\"\n      >{{ actions.isAgree ? `已赞同 ${actions.agreeNum}` : `赞同 ${actions.agreeNum}`}}</span>\n    </div>\n    <div class=\"Vote-wrap\" :class=\"{ChangeStatus:actions.disagree}\" @click=\"changeDisagree\">\n      <span class=\"icon-down-fill1-xs iconfont\"></span>\n    </div>\n    <div class=\"Actions-wrap\" @click=\"changeReview\">\n      <span class=\"iconfont icon-pinglun1\"></span>\n      <span class=\"Actions-desc\">{{isReview? \"收起评论\":`${actions.reviewNum}条评论`}}</span>\n    </div>\n    <div class=\"Actions-wrap\">\n      <span class=\"iconfont icon-xiaofeiji\"></span>\n      <span class=\"Actions-desc\">分享</span>\n    </div>\n    <div class=\"Actions-wrap\">\n      <span class=\"iconfont icon-shoucang\"></span>\n      <span class=\"Actions-desc\">收藏</span>\n    </div>\n    <div class=\"Actions-wrap\" @click=\"actions.like = !actions.like\">\n      <span class=\"iconfont icon-xihuan\"></span>\n      <span class=\"Actions-desc\">{{actions.like?'取消喜欢':'喜欢'}}</span>\n    </div>\n    <div class=\"Actions-wrap\">\n      <span class=\"iconfont icon-shenglvehao\"></span>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"feed-action\",\n  props: {\n    actions: Object,\n    id: Number\n  },\n  data() {\n    return {\n      isReview: false\n    };\n  },\n  methods: {\n    //改变评论状态\n    changeReview() {\n      this.$emit(\"changeReview\", !this.isReview);\n      this.isReview = !this.isReview;\n    },\n    //改变赞同状态\n    changeAgree() {\n      if (this.actions.isAgree) {\n        //取消赞\n        this.axios.get(`support_cancel?type=2&id=${this.id}`).then(res => {\n          if (res.status == 200) {\n            this.actions.isAgree = !this.actions.isAgree;\n            this.actions.agreeNum--;\n          }\n        });\n      } else {\n        // 点赞\n        this.axios.get(`/support?type=2&id=${this.id}`).then(res => {\n          if (res.status == 200) {\n            this.actions.isAgree = !this.actions.isAgree;\n             if (this.actions.disagree) {\n                this.actions.disagree = false;\n              }\n              this.actions.agreeNum++;\n          }\n        });\n      }\n    },\n    changeDisagree() {\n      if (this.actions.disagree) {\n        //取消踩\n        this.axios.get(`/unsupport_cancel?type=2&id=${this.id}`).then(res => {\n          if (res.status == 200) {\n            this.actions.disagree = !this.actions.disagree;\n          }\n        });\n      } else {\n        //踩\n        this.axios.get(`/unsupport?type=2&id=${this.id}`).then(res => {\n          if (res.status == 200) {\n            this.actions.disagree = !this.actions.disagree;\n            if (this.actions.isAgree) {\n              this.actions.isAgree = false;\n              this.actions.agreeNum--;\n            }\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n<style lang='scss' scoped>\n@import \"../assets/css/config.scss\";\n.ContentItem-actions {\n  display: flex;\n  align-items: center;\n  padding-top: 10px;\n  color: #646464;\n  background: #fff;\n  .Vote-wrap {\n    height: 32px;\n    line-height: 32px;\n    padding: 0 10px;\n    color: $mainColor;\n    background: rgba(0, 132, 255, 0.1);\n    font-size: 14px;\n    margin-right: 4px;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n  }\n  .Actions-wrap {\n    display: flex;\n    align-items: center;\n    color: $fontColor;\n    font-size: 14px;\n    margin-left: 24px;\n    cursor: pointer;\n  }\n  .Actions-desc,\n  .Vote-desc {\n    margin-left: 4px;\n  }\n  .ChangeStatus {\n    color: #fff;\n    background: $mainColor;\n  }\n}\n</style>"]}]}
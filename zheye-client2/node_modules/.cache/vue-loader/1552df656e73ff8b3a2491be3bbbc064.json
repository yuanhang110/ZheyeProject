{"remainingRequest":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\views\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\views\\Detail.vue","mtime":1595128598000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBRdWVzdGlvbkxpc3QgZnJvbSAiQC9jb21wb25lbnRzL1F1ZXN0aW9uTGlzdC52dWUiOwppbXBvcnQgRWRpdG9yIGZyb20gIkAvY29tcG9uZW50cy9FZGl0b3IudnVlIjsKaW1wb3J0IHV0aWwgZnJvbSAiQC91dGlscy9pbmRleC5qcyI7CmxldCBkZXRhaWwsIGlkOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRldGFpbCIsCiAgY29tcG9uZW50czogewogICAgRWRpdG9yLAogICAgUXVlc3Rpb25MaXN0CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9sbG93VGlwOiAi5YWz5rOo6Zeu6aKYIiwKICAgICAgdXNlcjoge30sCiAgICAgIG1zZzoge30sCiAgICAgIGlzU2hvd01vcmU6IHRydWUsCiAgICAgIGlzQXNrOiBmYWxzZSwKICAgICAgZWlkdG9yOiAiIiwKICAgICAgaXNDbGVhcjogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB0aGlzLmdldERldGFpbE1zZygpOwogICAgdGhpcy51c2VyID0gdXRpbC5nZXRVc2VyKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPluaVsOaNrgogICAgZ2V0RGV0YWlsTXNnKCkgewogICAgICB0aGlzLmF4aW9zLmdldChgL3F1ZXN0aW9uL2RldGFpbD9xaWQ9JHtpZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLm1zZyA9IHJlcy5kYXRhOwogICAgICAgICAgZGV0YWlsID0gcmVzLmRhdGEuZGV0YWlsOwogICAgICAgICAgaWYgKHJlcy5kYXRhLmlzRm9sbG93KSB7CiAgICAgICAgICAgIHRoaXMuZm9sbG93VGlwID0gIuW3suWFs+azqCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+ebkeWQrOe8lui+keWZqAogICAgY29udGVudENoYW5nZShkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICB0aGlzLmVpZHRvciA9IGRhdGE7CiAgICB9LAogICAgLy/mmL7npLrmm7TlpJoKICAgIHNob3dNb3JlKCkgewogICAgICB0aGlzLnN1bW1hcnkgPSBkZXRhaWw7CiAgICAgIHRoaXMuaXNTaG93TW9yZSA9IGZhbHNlOwogICAgfSwKICAgIC8v5YaZ5Zue562UCiAgICB3cml0ZUFuc3dlcigpIHsKICAgICAgaWYgKHV0aWwuaXNMb2dpbigpKSB7CiAgICAgICAgdGhpcy5pc0FzayA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kYWxlcnQoIuivt+WFiOeZu+W9lSIsICLmj5DnpLoiKTsKICAgICAgfQogICAgfSwKICAgIC8v5o+Q5Lqk5Zue562UCiAgICBzdWJtaXRBbnN3ZXIoKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgY29udGVudDogdGhpcy5laWR0b3IsCiAgICAgICAgcWlkOiBpZAogICAgICB9OwogICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hbnN3ZXIvYWRkIiwgcGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogIuWbnuetlOaIkOWKnyIsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmlzQ2xlYXIgPSB0cnVlOwogICAgICAgICAgdGhpcy5nZXREZXRhaWxNc2coKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5YWz5rOo6Zeu6aKYCiAgICBmb2N1c1F1ZXN0aW9uKCkgewogICAgICBpZiAodGhpcy5tc2cuaXNGb2xsb3cpIHsKICAgICAgICB0aGlzLmF4aW9zLmdldChgL2ZvbGxvdy9xdWVzdGlvbl9jYW5jZWw/aWQ9JHt0aGlzLm1zZy5pZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5tc2cuaXNGb2xsb3cgPSAhdGhpcy5tc2cuaXNGb2xsb3c7CiAgICAgICAgICAgIHRoaXMuZm9sbG93VGlwPSLlhbPms6jpl67popgiCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5heGlvcy5nZXQoYC9mb2xsb3cvcXVlc3Rpb24/aWQ9JHt0aGlzLm1zZy5pZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5tc2cuaXNGb2xsb3cgPSAhdGhpcy5tc2cuaXNGb2xsb3c7CiAgICAgICAgICAgIHRoaXMuZm9sbG93VGlwPSLlt7LlhbPms6giCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"detail\">\n    <!-- 头部 -->\n    <div class=\"QuestionHeader\">\n      <div class=\"QuestionHeader-content\">\n        <div class=\"QuestionHeader-main\">\n          <div class=\"QuestionHeader-title\">{{msg.title}}</div>\n          <div class=\"QuestionHeader-detail\">\n            {{msg.summary}}\n            <div class=\"QuestionHeader-more\" @click=\"showMore\" v-if=\"isShowMore&&msg.summary\">\n              <span>显示全部</span>\n              <span class=\"iconfont icon-arrow-down\"></span>\n            </div>\n          </div>\n        </div>\n        <!-- 侧边 -->\n        <div class=\"QuestionHeader-side\">\n          <div class=\"QuestionStatus-item\">\n            <div class=\"QuestionStatus-name\">关注者</div>\n            <div class=\"QuestionStatus-num\">1,203</div>\n          </div>\n          <div class=\"QuestionStatus-split\"></div>\n          <div class=\"QuestionStatus-item\">\n            <div class=\"QuestionStatus-name\">被浏览</div>\n            <div class=\"QuestionStatus-num\">{{msg.lookNum}}</div>\n          </div>\n        </div>\n      </div>\n      <!-- 底部 -->\n      <div class=\"QuestionHeader-footer\">\n        <div class=\"QuestionHeader-footer-inner\">\n          <div class=\"QuestionButton-groups\">\n            <button\n              class=\"QuestionButton-follow\"\n              :class=\"{AttentionButton:msg.isFollow}\"\n              @click=\"focusQuestion\"\n            >{{followTip}}</button>\n            <button class=\"QuestionButton-ask\" @click=\"writeAnswer\">\n              <span class=\"iconfont icon-pen\"></span>\n              写回答\n            </button>\n          </div>\n          <div class=\"QuestionHeader-actions\">\n            <div class=\"ActionsWrap\">\n              <span class=\"iconfont icon-zan1\"></span>\n              <span class=\"ActionsText\">好问题</span>\n            </div>\n            <div class=\"ActionsWrap\">\n              <span class=\"iconfont icon-pinglun1\"></span>\n              <span class=\"ActionsText\">评论</span>\n            </div>\n            <div class=\"ActionsWrap\">\n              <span class=\"iconfont icon-xiaofeiji\"></span>\n              <span class=\"ActionsText\">分享</span>\n            </div>\n            <div class=\"ActionsWrap\">\n              <span class=\"iconfont icon-shenglvehao\"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 编辑器 -->\n    <div class=\"AnswerWrap\" v-if=\"isAsk\">\n      <div class=\"AnswerHeader\">\n        <img :src=\"user.headUrl\" alt class=\"AuthorAvator\" />\n        <span class=\"AuthorName\">{{user.name}}</span>\n      </div>\n      <editor @change=\"contentChange\" :isClear=\"isClear\"></editor>\n      <button class=\"AnswerButton\" @click=\"submitAnswer\">提交回答</button>\n    </div>\n\n    <!-- 回答 -->\n    <div class=\"QuestionMain\">\n      <div class=\"List\">\n        <div class=\"ListHeader\">{{msg.answerNum}}个回答</div>\n        <div v-for=\"(item,index) in msg.answerList\" :key=\"index\">\n          <question-list :answerList=\"item\"></question-list>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport QuestionList from \"@/components/QuestionList.vue\";\nimport Editor from \"@/components/Editor.vue\";\nimport util from \"@/utils/index.js\";\nlet detail, id;\nexport default {\n  name: \"detail\",\n  components: {\n    Editor,\n    QuestionList\n  },\n  data() {\n    return {\n      followTip: \"关注问题\",\n      user: {},\n      msg: {},\n      isShowMore: true,\n      isAsk: false,\n      eidtor: \"\",\n      isClear: false\n    };\n  },\n  mounted() {\n    id = this.$route.params.id;\n    this.getDetailMsg();\n    this.user = util.getUser();\n  },\n  methods: {\n    //获取数据\n    getDetailMsg() {\n      this.axios.get(`/question/detail?qid=${id}`).then(res => {\n        if (res.status == 200) {\n          this.msg = res.data;\n          detail = res.data.detail;\n          if (res.data.isFollow) {\n            this.followTip = \"已关注\";\n          }\n        }\n      });\n    },\n    //监听编辑器\n    contentChange(data) {\n      console.log(data);\n      this.eidtor = data;\n    },\n    //显示更多\n    showMore() {\n      this.summary = detail;\n      this.isShowMore = false;\n    },\n    //写回答\n    writeAnswer() {\n      if (util.isLogin()) {\n        this.isAsk = true;\n      } else {\n        this.$alert(\"请先登录\", \"提示\");\n      }\n    },\n    //提交回答\n    submitAnswer() {\n      let params = {\n        content: this.eidtor,\n        qid: id\n      };\n      this.axios.post(\"/answer/add\", params).then(res => {\n        if (res.status == 200) {\n          this.$message({\n            message: \"回答成功\",\n            type: \"success\"\n          });\n          this.isClear = true;\n          this.getDetailMsg();\n        }\n      });\n    },\n    //关注问题\n    focusQuestion() {\n      if (this.msg.isFollow) {\n        this.axios.get(`/follow/question_cancel?id=${this.msg.id}`).then(res => {\n          if (res.status == 200) {\n            this.msg.isFollow = !this.msg.isFollow;\n            this.followTip=\"关注问题\"\n          }\n        });\n      } else {\n        this.axios.get(`/follow/question?id=${this.msg.id}`).then(res => {\n          if (res.status == 200) {\n            this.msg.isFollow = !this.msg.isFollow;\n            this.followTip=\"已关注\"\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"../assets/css/config\";\n// 头部\n.QuestionHeader {\n  width: 100%;\n  background: #ffffff;\n  box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);\n  padding: 16px 0;\n  &-content {\n    display: flex;\n    justify-content: space-between;\n    width: 1000px;\n    height: 100%;\n    padding: 0 16px;\n    margin: 0 auto;\n  }\n  &-main {\n    width: 694px;\n  }\n  &-title {\n    margin-top: 12px;\n    margin-bottom: 4px;\n    font-size: 22px;\n    font-weight: 600;\n    color: #1a1a1a;\n  }\n  &-detail {\n    cursor: pointer;\n    font-size: 15px;\n  }\n  &-more {\n    display: inline-block;\n    font-size: 14px;\n    color: $fontColor;\n  }\n  &-side {\n    display: flex;\n    width: 296px;\n    justify-content: flex-end;\n    .QuestionStatus-item {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      padding: 0 20px;\n      .QuestionStatus-name {\n        font-size: 14px;\n        color: $fontColor;\n      }\n      .QuestionStatus-num {\n        font-size: 18px;\n        font-weight: 600;\n      }\n    }\n    .QuestionStatus-split {\n      width: 1px;\n      background: #ebebeb;\n      height: 50px;\n    }\n  }\n  &-footer {\n    margin-top: 8px;\n    &-inner {\n      display: flex;\n      align-items: center;\n      width: 1000px;\n      height: 100%;\n      padding: 0 16px;\n      margin: 0 auto;\n    }\n    .QuestionButton-groups {\n      display: flex;\n      align-items: center;\n      .QuestionButton-follow {\n        cursor: pointer;\n        color: #ffffff;\n        background: $mainColor;\n        padding: 0 16px;\n        line-height: 34px;\n        height: 34px;\n        margin-right: 10px;\n        border: 1px solid $mainColor;\n      }\n      .AttentionButton {\n        background: $fontColor;\n        border: 1px solid $fontColor;\n      }\n      .QuestionButton-ask {\n        cursor: pointer;\n        padding: 0 16px;\n        line-height: 34px;\n        height: 34px;\n        border: 1px solid $mainColor;\n        background: #ffffff;\n        color: $mainColor;\n        &:hover {\n          background: #e8f3ff;\n        }\n      }\n      .icon-pen {\n        font-size: 14px;\n      }\n    }\n    .QuestionHeader-actions {\n      display: flex;\n      margin-left: 12px;\n      .ActionsWrap {\n        cursor: pointer;\n        font-size: 14px;\n        color: $fontColor;\n        padding: 0 8px;\n        &:hover {\n          color: #677081;\n        }\n      }\n      .ActionsText {\n        margin-left: 4px;\n      }\n    }\n  }\n}\n// 编辑器\n.AnswerWrap {\n  width: 1000px;\n  margin: 10px auto;\n  padding: 0 16px 60px 16px;\n  background: #ffffff;\n  .AnswerHeader {\n    display: flex;\n    align-items: center;\n    font-size: 15px;\n    font-weight: 600;\n    padding: 16px 0;\n    .AuthorAvator {\n      margin: 0 10px;\n      width: 30px;\n      height: 30px;\n    }\n  }\n  .AnswerButton {\n    margin-top: 8px;\n    padding: 0 16px;\n    background: $mainColor;\n    color: #ffffff;\n    line-height: 36px;\n    float: right;\n    cursor: pointer;\n  }\n}\n// 回答\n.QuestionMain {\n  width: 1000px;\n  margin: 10px auto;\n  padding: 0 16px;\n  background: #ffffff;\n  .List {\n    padding: 0 20px;\n    .ListHeader {\n      height: 50px;\n      border-bottom: 1px solid #f6f6f6;\n      line-height: 50px;\n      font-weight: 600;\n    }\n    .ListItem {\n      padding: 16px 0;\n      border-bottom: 1px solid #ebebeb;\n    }\n  }\n  \n}\n\n\n</style>\n\n"]}]}
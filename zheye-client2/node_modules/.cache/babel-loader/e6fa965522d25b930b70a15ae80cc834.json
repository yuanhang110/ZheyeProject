{"remainingRequest":"C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\src\\components\\CommentBody.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\src\\components\\CommentBody.vue","mtime":1595128598000},{"path":"C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\GraduateDesign\\zheye-client2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjb21tZW50LWJvZHkiLAogIHByb3BzOiB7CiAgICBjb21tZW50TXNnOiBPYmplY3QsCiAgICB0eXBlOiBOdW1iZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXBseU1zZzogIiIsCiAgICAgIGRpc2FibGVkOiB0cnVlLAogICAgICBpc1JlcGx5OiBmYWxzZSAvL+aYr+WQpuWbnuWkjQoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyAgIOeCuei1ngogICAgY2hhbmdlTGlrZTogZnVuY3Rpb24gY2hhbmdlTGlrZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNvbW1lbnRNc2cuaXNMaWtlKSB7CiAgICAgICAgLy/lj5bmtojotZ4KICAgICAgICB0aGlzLmF4aW9zLmdldCgic3VwcG9ydF9jYW5jZWw/aWQ9Ii5jb25jYXQodGhpcy5jb21tZW50TXNnLmlkLCAiJnR5cGU9MyIpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5jb21tZW50TXNnLmlzTGlrZSA9ICFfdGhpcy5jb21tZW50TXNnLmlzTGlrZTsKICAgICAgICAgICAgX3RoaXMuY29tbWVudE1zZy5saWtlTnVtLS07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5heGlvcy5nZXQoInN1cHBvcnQ/aWQ9Ii5jb25jYXQodGhpcy5jb21tZW50TXNnLmlkLCAiJnR5cGU9MyIpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5jb21tZW50TXNnLmlzTGlrZSA9ICFfdGhpcy5jb21tZW50TXNnLmlzTGlrZTsKCiAgICAgICAgICAgIGlmIChfdGhpcy5jb21tZW50TXNnLmlzRGlzTGlrZSkgewogICAgICAgICAgICAgIF90aGlzLmNvbW1lbnRNc2cuaXNEaXNMaWtlID0gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzLmNvbW1lbnRNc2cubGlrZU51bSsrOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/ouKkKICAgIGNoYW5nZURpc2xpa2U6IGZ1bmN0aW9uIGNoYW5nZURpc2xpa2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY29tbWVudE1zZy5pc0Rpc0xpa2UpIHsKICAgICAgICAvL+WPlua2iOi4qQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCJ1bnN1cHBvcnRfY2FuY2VsP2lkPSIuY29uY2F0KHRoaXMuY29tbWVudE1zZy5pZCwgIiZ0eXBlPTMiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMyLmNvbW1lbnRNc2cuaXNEaXNMaWtlID0gIV90aGlzMi5jb21tZW50TXNnLmlzRGlzTGlrZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmF4aW9zLmdldCgidW5zdXBwb3J0P2lkPSIuY29uY2F0KHRoaXMuY29tbWVudE1zZy5pZCwgIiZ0eXBlPTMiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMyLmNvbW1lbnRNc2cuaXNEaXNMaWtlID0gIV90aGlzMi5jb21tZW50TXNnLmlzRGlzTGlrZTsKCiAgICAgICAgICAgIGlmIChfdGhpczIuY29tbWVudE1zZy5pc0xpa2UpIHsKICAgICAgICAgICAgICBfdGhpczIuY29tbWVudE1zZy5pc0xpa2UgPSBmYWxzZTsKICAgICAgICAgICAgICBfdGhpczIuY29tbWVudE1zZy5saWtlTnVtLS07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v5Y+R5biD5Zue5aSNCiAgICBwdWJsaXNoUmVwbHk6IGZ1bmN0aW9uIHB1Ymxpc2hSZXBseSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW0gPSB7CiAgICAgICAgY29udGVudDogdGhpcy5yZXBseU1zZywKICAgICAgICBpZDogdGhpcy5jb21tZW50TXNnLmlkLAogICAgICAgIHR5cGU6IDIKICAgICAgfTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCcvY29tbWVudC9hZGQnLCBwYXJhbSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi6K+E6K665oiQ5YqfIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5yZXBseU1zZyA9ICIiOwoKICAgICAgICBfdGhpczMuJGVtaXQoJ2FkZFJlcGx5Jyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CommentBody.vue"],"names":[],"mappings":"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","sourcesContent":["  <!-- 评论细节 -->\n<template>\n  <!-- 评论内容 -->\n  <div class=\"CommentItem-body\">\n    <div class=\"CommentItem-content\">{{commentMsg.content}}</div>\n    <div class=\"CommentItem-icons\">\n      <div class=\"CommentItem-icon\" :class=\"{IsLike:commentMsg.isLike}\" @click=\"changeLike\">\n        <span class=\"icon-zan1 iconfont\"></span>\n        <span class=\"CommentItem-desc\">{{commentMsg.likeNum ? commentMsg.likeNum :'0'}}</span>\n      </div>\n      <div\n        class=\"CommentItem-icon HoverIcon\"\n        :class=\"{showIcon:isReply}\"\n        @click=\"isReply = !isReply\"\n      >\n        <span class=\"icon-pinglun1 iconfont\"></span>\n        <span class=\"CommentItem-desc\">{{isReply? '取消回复':'回复'}}</span>\n      </div>\n      <div class=\"CommentItem-icon HoverIcon\" :class=\"{showIcon:isReply}\" @click=\"changeDislike\">\n        <span class=\"icon-cai iconfont\"></span>\n        <span class=\"CommentItem-desc\">{{commentMsg.isDisLike ? \"取消踩\" : \"踩\"}}</span>\n      </div>\n    </div>\n    <!-- 回复 -->\n    <transition name=\"fade\">\n      <div class=\"CommentReply\" v-if=\"isReply\">\n        <el-input\n          type=\"textarea\"\n          resize=\"none\"\n          autosize\n          :placeholder=\"'回复'+commentMsg.user.name\"\n          v-model=\"replyMsg\"\n        ></el-input>\n        <button class=\"CommentReply-button\" :disabled=\"replyMsg.length==0\" @click=\"publishReply\">发表</button>\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"comment-body\",\n  props: {\n    commentMsg: Object,\n    type:Number\n  },\n  data() {\n    return {\n      replyMsg: \"\",\n      disabled: true,\n      isReply: false //是否回复\n    };\n  },\n  methods: {\n    //   点赞\n    changeLike() {\n      if (this.commentMsg.isLike) {\n        //取消赞\n        this.axios\n          .get(`support_cancel?id=${this.commentMsg.id}&type=3`)\n          .then(res => {\n            if (res.status == 200) {\n              this.commentMsg.isLike = !this.commentMsg.isLike;\n              this.commentMsg.likeNum--;\n            }\n          });\n      } else {\n        this.axios.get(`support?id=${this.commentMsg.id}&type=3`).then(res => {\n          if (res.status == 200) {\n            this.commentMsg.isLike = !this.commentMsg.isLike;\n            if (this.commentMsg.isDisLike) {\n              this.commentMsg.isDisLike = false;\n            }\n            this.commentMsg.likeNum++;\n          }\n        });\n      }\n    },\n    //踩\n    changeDislike() {\n      if (this.commentMsg.isDisLike) {\n        //取消踩\n        this.axios\n          .get(`unsupport_cancel?id=${this.commentMsg.id}&type=3`)\n          .then(res => {\n            if (res.status == 200) {\n              this.commentMsg.isDisLike = !this.commentMsg.isDisLike;\n            }\n          });\n      }else{\n         this.axios\n          .get(`unsupport?id=${this.commentMsg.id}&type=3`)\n          .then(res => {\n            if (res.status == 200) {\n              this.commentMsg.isDisLike = !this.commentMsg.isDisLike;\n              if(this.commentMsg.isLike){\n                this.commentMsg.isLike=false;\n                this.commentMsg.likeNum--;\n              }\n\n            }\n          });\n      }\n    },\n    //发布回复\n    publishReply(){\n      let param = {\n        content:this.replyMsg,\n        id:this.commentMsg.id,\n        type:2\n      }\n      this.axios.post('/comment/add',param).then(res=>{\n        if(res.status == 200){\n           this.$message({\n              message: \"评论成功\",\n              type: \"success\"\n            });\n        }\n        this.replyMsg = \"\";\n        this.$emit('addReply');\n      });\n    }\n  }\n};\n</script>\n<style lang='scss' >\n@import \"../assets/css/config\";\n.fade-enter-active,\n.fade-leave-active {\n  opacity: 1;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n// 评论身\n.CommentItem-body {\n  position: relative; //为了分割线\n  color: #1a1a1a;\n  padding: 0 0 10px 33px;\n\n  .CommentItem-content {\n    margin-bottom: 6px;\n  }\n  .CommentItem-icons {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    margin-top: 4px;\n    color: $fontColor;\n    .CommentItem-icon {\n      display: flex;\n      align-items: center;\n      .CommentItem-desc {\n        margin-left: 4px;\n        cursor: pointer;\n      }\n    }\n    .HoverIcon {\n      margin-left: 20px;\n      transition: opacity 0.2s;\n      opacity: 0;\n    }\n\n    &:hover .HoverIcon {\n      opacity: 1;\n    }\n    .showIcon {\n      opacity: 1;\n    }\n  }\n  .IsLike {\n    color: $mainColor;\n    &:hover {\n      color: #175199;\n    }\n  }\n  //回复\n  .CommentReply {\n    transition: all 0.2s;\n    padding: 12px 0;\n    display: flex;\n    align-items: center;\n    .el-textarea {\n      width: 86%;\n    }\n    .CommentReply-input {\n      padding: 6px 12px;\n      font-size: 14px;\n      border: 1px solid $fontColor;\n      border-radius: 4px;\n    }\n    .CommentReply-button {\n      height: 36px;\n      line-height: 36px;\n      padding: 0 12px;\n      margin-left: 20px;\n      color: #ffffff;\n      background: $mainColor;\n    }\n  }\n  &:after {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -5px;\n    display: block;\n    margin: 0 20px;\n    border-bottom: 1px solid #f6f6f6;\n    content: \"\";\n  }\n}\n</style>"],"sourceRoot":"src/components"}]}
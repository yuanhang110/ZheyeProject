{"remainingRequest":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\views\\Contact.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\src\\views\\Contact.vue","mtime":1595577834000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\xyh\\Desktop\\进化星球知乎\\第十八周资料\\zheye-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMveHloL0Rlc2t0b3AvXHU4RkRCXHU1MzE2XHU2NjFGXHU3NDAzXHU3N0U1XHU0RTRFL1x1N0IyQ1x1NTM0MVx1NTE2Qlx1NTQ2OFx1OEQ0NFx1NjU5OS96aGV5ZS1jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTmF2SGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9OYXZIZWFkZXIudnVlIjsKaW1wb3J0IHV0aWwgZnJvbSAiQC91dGlscy9pbmRleC5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY29udGFjdCIsCiAgY29tcG9uZW50czogewogICAgTmF2SGVhZGVyOiBOYXZIZWFkZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1aWQ6IDAsCiAgICAgIG1zZzogIiIsCiAgICAgIC8v6IGK5aSp5L+h5oGvCiAgICAgIHdzczogbnVsbCwKICAgICAgY2hhdExpc3Q6IFtdLAogICAgICAvL+iBiuWkqeiusOW9lQogICAgICB1c2VyTGlzdDogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBjdXJyZW50VXNlcjogewogICAgICAgIGlkOiAwCiAgICAgIH0gLy/lvZPliY3ogYrlpKnnmoTlr7nosaEKCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJ3c01zZyIsICJ3cyJdKSksCiAgd2F0Y2g6IHsKICAgIHdzTXNnOiBmdW5jdGlvbiB3c01zZyhuZXdWYWwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChuZXdWYWwuY29tbWFuZCA9PSA0KSB7CiAgICAgICAgY29uc29sZS5sb2cobmV3VmFsKTsKICAgICAgICB0aGlzLmNsZWFyTXNnKCk7CgogICAgICAgIGlmIChuZXdWYWwuZnJvbVVzZXIuaWQgPT0gdXRpbC5nZXRVc2VyKCkuaWQgfHwgdGhpcy5jdXJyZW50VXNlci5pZCA9PSBuZXdWYWwuZnJvbVVzZXIuaWQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLmm7TmlrDogYrlpKnorrDlvZUiKTsKICAgICAgICAgIHRoaXMuY2hhdExpc3QgPSB0aGlzLmNoYXRMaXN0LmNvbmNhdChuZXdWYWwpOwogICAgICAgIH0KCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5zY3JvbGxCb3R0bSgpOwogICAgICAgIH0sIDIwMCk7CiAgICAgIH0KICAgIH0sCiAgICB3czogZnVuY3Rpb24gd3MobmV3VmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbCk7CiAgICAgIHRoaXMud3NzID0gbmV3VmFsOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudWlkID0gdXRpbC5nZXRVc2VyKCkuaWQ7CiAgICB0aGlzLndzcyA9IHRoaXMuJHN0b3JlLnN0YXRlLndzOwoKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcikgewogICAgICB0aGlzLmNob29zZVVzZXIodGhpcy4kcm91dGUucGFyYW1zLnVzZXIpOwogICAgfQoKICAgIHRoaXMubGlzdGVuU2Nyb2xsKCk7CiAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKirliqDovb3ogYrlpKnorrDlvZUKICAgICAqIEBwYXJhbSBwYWdlIOiBiuWkqemhteaVsAogICAgICogQHBhcmFtIHR5cGUg57G75YirIDHku6PooajliJ3mrKHojrflj5bogYrlpKnorrDlvZUgMuS7o+ihqOWKoOi9veiBiuWkqeiusOW9lQogICAgICoqLwogICAgZ2V0Q2hhdExpc3Q6IGZ1bmN0aW9uIGdldENoYXRMaXN0KHBhZ2UsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiL2NoYXRfcmVjb3JkP2NoYXRVc2VySWQ9Ii5jb25jYXQodGhpcy5jdXJyZW50VXNlci5pZCwgIiZwYWdlPSIpLmNvbmNhdChwYWdlKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczIuY2hhdExpc3QgPSBfdGhpczIuY2hhdExpc3QuY29uY2F0KHJlcy5kYXRhKTsKCiAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7CiAgICAgICAgICAgIF90aGlzMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMi5zY3JvbGxCb3R0bSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Y+R6YCB5L+h5oGvCiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgdG9Vc2VySWQ6IHRoaXMuY3VycmVudFVzZXIuaWQsCiAgICAgICAgY29udGVudDogdGhpcy5tc2csCiAgICAgICAgdGltZTogdXRpbC5nZXRUaW1lKCksCiAgICAgICAgY29tbWFuZDogMwogICAgICB9OwogICAgICB0aGlzLndzcy5zZW5kKHV0aWwuZW5jb2RlKG1zZykpOwogICAgICB0aGlzLm1zZyA9ICIiOwogICAgICB0aGlzLmNsZWFyTXNnKCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5zY3JvbGxCb3R0bSgpOwogICAgICB9LCAyMDApOwogICAgfSwKICAgIC8v6YCJ5oup6IGU57O75Lq6CiAgICBjaG9vc2VVc2VyOiBmdW5jdGlvbiBjaG9vc2VVc2VyKHVzZXIsIGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjsKICAgICAgdGhpcy5jaGF0TGlzdCA9IFtdOwogICAgICB0aGlzLmdldENoYXRMaXN0KDEsIDEpOwogICAgICB0aGlzLmNsZWFyTXNnKCk7CiAgICAgIHRoaXMuJHJlZnNbImhlYWRlciJdLmdldENoYXRMaXN0KCk7CiAgICB9LAogICAgLy/mu5rliqjmnaHmu5rliqjliLDlupXpg6gKICAgIHNjcm9sbEJvdHRtOiBmdW5jdGlvbiBzY3JvbGxCb3R0bSgpIHsKICAgICAgdmFyIGVsID0gdGhpcy4kcmVmc1siTWVzc2FnZUJveCJdOwogICAgICBlbC5zY3JvbGxUb3AgPSBlbC5zY3JvbGxIZWlnaHQ7CiAgICB9LAogICAgLy/nm5HlkKzmu5rliqjmnaEKICAgIGxpc3RlblNjcm9sbDogZnVuY3Rpb24gbGlzdGVuU2Nyb2xsKCkgewogICAgICB2YXIgZWxlID0gdGhpcy4kcmVmc1siTWVzc2FnZUJveCJdOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHNjciA9IGVsZS5zY3JvbGxUb3A7IC8vIOWQkeS4iua7muWKqOeahOmCo+S4gOmDqOWIhumrmOW6pgoKICAgICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gZWxlLmNsaWVudEhlaWdodDsgLy8g5bGP5bmV6auY5bqm5Lmf5bCx5piv5b2T5YmN6K6+5aSH6Z2Z5oCB5LiL5L2g5omA55yL5Yiw55qE6KeG6KeJ6auY5bqmCgogICAgICAgIHZhciBzY3JIZWlnaHQgPSBlbGUuc2Nyb2xsSGVpZ2h0OyAvLyDmlbTkuKrnvZHpobXnmoTlrp7pmYXpq5jluqbvvIzlhbzlrrlQY+errwoKICAgICAgICBpZiAoc2NyID09IDApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLliLDpobbkuoYiKTsKICAgICAgICAgIHRoYXQuZ2V0Q2hhdExpc3QodGhhdC5jdXJyZW50UGFnZSsrLCAyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W6IGU57O75Lq65YiX6KGoCiAgICBnZXRVc2VyTGlzdDogZnVuY3Rpb24gZ2V0VXNlckxpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5heGlvcy5nZXQoImNoYXRMaXN0IikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICByZXMuZGF0YS5zb3J0KHV0aWwuc29ydEJ5QXR0cigidGltZSIpKTsKICAgICAgICAgIHJlcy5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLnRpbWUgPSB1dGlsLmNoYW5nZVRpbWUoaXRlbS50aW1lKTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXM0LnVzZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+a4hemZpOacquivu+a2iOaBrwogICAgY2xlYXJNc2c6IGZ1bmN0aW9uIGNsZWFyTXNnKCkgewogICAgICB0aGlzLmF4aW9zLmdldCgiL2NsZWFyX3VucmVhZF9udW0/ZnJvbVVzZXJJZD0iLmNvbmNhdCh0aGlzLmN1cnJlbnRVc2VyLmlkKSk7CiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIH0sCiAgICAvL+abtOaWsHVzZXJsaXN0CiAgICB1cGRhdGVVc2VyTGlzdDogZnVuY3Rpb24gdXBkYXRlVXNlckxpc3QobmV3VmFsKSB7CiAgICAgIGZvciAoaW5kZXggaW4gdGhpcy51c2VyTGlzdCkgewogICAgICAgIGlmICh0aGlzLnVzZXJMaXN0W2luZGV4XS51c2VyLmlkID09IG5ld1ZhbC5mcm9tVXNlci5pZCkgewogICAgICAgICAgLy/mib7liLDkuoblj5Hmtojmga/nmoTkuroKICAgICAgICAgIGl0ZW0udW5yZWFkTnVtID0gbmV3VmFsLnVucmVhZE51bTsKICAgICAgICAgIGl0ZW0uY29udGVudCA9IG5ld1ZhbC5jb250ZW50OwogICAgICAgICAgaXRlbS50aW1lID0gdXRpbC5jaGFuZ2VUaW1lKG5ld1ZhbC50aW1lKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Contact.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,OAAA,SAAA,MAAA,4BAAA;AAEA,OAAA,IAAA,MAAA,kBAAA;AACA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,CADA;AAEA,MAAA,GAAA,EAAA,EAFA;AAEA;AACA,MAAA,GAAA,EAAA,IAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAIA;AACA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,WAAA,EAAA,CANA;AAOA,MAAA,WAAA,EAAA;AACA,QAAA,EAAA,EAAA;AADA,OAPA,CASA;;AATA,KAAA;AAWA,GAjBA;AAkBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,OAAA,EAAA,IAAA,CAAA,CADA,CAlBA;AAqBA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA,eAAA,MAAA,EAAA;AAAA;;AACA,UAAA,MAAA,CAAA,OAAA,IAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,aAAA,QAAA;;AACA,YACA,MAAA,CAAA,QAAA,CAAA,EAAA,IAAA,IAAA,CAAA,OAAA,GAAA,EAAA,IACA,KAAA,WAAA,CAAA,EAAA,IAAA,MAAA,CAAA,QAAA,CAAA,EAFA,EAGA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,eAAA,QAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACA;;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA;AACA,KAhBA;AAiBA,IAAA,EAAA,EAAA,YAAA,MAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAAA,GAAA,GAAA,MAAA;AACA;AApBA,GArBA;AA2CA,EAAA,OA3CA,qBA2CA;AACA,SAAA,GAAA,GAAA,IAAA,CAAA,OAAA,GAAA,EAAA;AACA,SAAA,GAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA;;AACA,QAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,EAAA;AACA,WAAA,UAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA;AACA;;AACA,SAAA,YAAA;AACA,SAAA,WAAA;AACA,GAnDA;AAoDA,EAAA,OAAA,EAAA;AACA;;;;AAIA,IAAA,WALA,uBAKA,IALA,EAKA,IALA,EAKA;AAAA;;AACA,WAAA,KAAA,CACA,GADA,mCACA,KAAA,WAAA,CAAA,EADA,mBACA,IADA,GAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA;;AACA,cAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,YAAA;AACA,cAAA,MAAA,CAAA,WAAA;AACA,aAFA;AAGA;AACA;AACA,OAZA;AAaA,KAnBA;AAoBA;AACA,IAAA,IArBA,kBAqBA;AAAA;;AACA,UAAA,GAAA,GAAA;AACA,QAAA,QAAA,EAAA,KAAA,WAAA,CAAA,EADA;AAEA,QAAA,OAAA,EAAA,KAAA,GAFA;AAGA,QAAA,IAAA,EAAA,IAAA,CAAA,OAAA,EAHA;AAIA,QAAA,OAAA,EAAA;AAJA,OAAA;AAMA,WAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AACA,WAAA,GAAA,GAAA,EAAA;AACA,WAAA,QAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAlCA;AAmCA;AACA,IAAA,UApCA,sBAoCA,IApCA,EAoCA,KApCA,EAoCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,WAAA,CAAA,CAAA,EAAA,CAAA;AACA,WAAA,QAAA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA,KA3CA;AA4CA;AACA,IAAA,WA7CA,yBA6CA;AACA,UAAA,EAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,EAAA,CAAA,YAAA;AACA,KAhDA;AAiDA;AACA,IAAA,YAlDA,0BAkDA;AACA,UAAA,GAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,YAAA,GAAA,GAAA,GAAA,CAAA,SAAA,CADA,CACA;;AACA,YAAA,YAAA,GAAA,GAAA,CAAA,YAAA,CAFA,CAEA;;AACA,YAAA,SAAA,GAAA,GAAA,CAAA,YAAA,CAHA,CAGA;;AACA,YAAA,GAAA,IAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,UAAA,IAAA,CAAA,WAAA,CAAA,IAAA,CAAA,WAAA,EAAA,EAAA,CAAA;AACA;AACA,OARA;AASA,KA9DA;AA+DA;AACA,IAAA,WAhEA,yBAgEA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,UAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA,MAAA,CAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,WAFA;AAGA,UAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA;AACA,OARA;AASA,KA1EA;AA2EA;AACA,IAAA,QA5EA,sBA4EA;AACA,WAAA,KAAA,CAAA,GAAA,wCAAA,KAAA,WAAA,CAAA,EAAA;AACA,WAAA,WAAA;AAEA,KAhFA;AAiFA;AACA,IAAA,cAlFA,0BAkFA,MAlFA,EAkFA;AACA,WAAA,KAAA,IAAA,KAAA,QAAA,EAAA;AACA,YAAA,KAAA,QAAA,CAAA,KAAA,EAAA,IAAA,CAAA,EAAA,IAAA,MAAA,CAAA,QAAA,CAAA,EAAA,EAAA;AACA;AACA,UAAA,IAAA,CAAA,SAAA,GAAA,MAAA,CAAA,SAAA;AACA,UAAA,IAAA,CAAA,OAAA,GAAA,MAAA,CAAA,OAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA;AACA;AACA;AACA;AA5FA;AApDA,CAAA","sourcesContent":["<template>\n  <div>\n    <nav-header ref=\"header\" @toChat=\"chooseUser\"></nav-header>\n    <div class=\"ContactWrap\">\n      <div class=\"Contact\">\n        <div class=\"ContactSide\">\n          <div class=\"ContactSide-tip\">联系人</div>\n          <div v-for=\"(item,index) in userList\" :key=\"index\">\n            <div\n              class=\"ContactItem\"\n              @click=\"chooseUser(item.user,index)\"\n              :class=\"{ChooseItem : item.user.id == currentUser.id}\"\n            >\n              <!-- 红点提示 -->\n              <el-badge :value=\"item.unreadNum\" :max=\"99\" :hidden=\"item.unreadNum==0\">\n                <img class=\"UserAvator\" :src=\"item.user.headUrl\" alt=\"头像\" />\n              </el-badge>\n              <div class=\"UserContent\">\n                <div class=\"UserMsg\">\n                  <span class=\"UserName\">{{item.user.name}}</span>\n                  <span class=\"MsgTime\">{{item.time}}</span>\n                </div>\n                <div class=\"UserSnippet\">{{item.content}}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"ContactBox\">\n          <div v-show=\"currentUser.id!=0\">\n            <div class=\"ContactBox-header\">{{currentUser.name}}</div>\n            <div class=\"MessageBox\" ref=\"MessageBox\">\n              <div\n                v-for=\"(item,index) in chatList\"\n                :key=\"index\"\n                class=\"Message\"\n                :style=\"item.fromUser.id == uid?'flex-direction:row-reverse':''\"\n              >\n                <img :src=\"item.fromUser.headUrl\" class=\"UserAvator\" />\n                <div class=\"UserMsg\" :class=\"item.fromUser.id == uid?'RightMessage':'LeftMessage'\">\n                  <span :style=\"item.fromUser.id == uid?' float: right;':''\">{{item.content}}</span>\n                </div>\n              </div>\n            </div>\n            <!-- 输入框 -->\n            <div class=\"InputBox\">\n              <textarea v-model=\"msg\" class=\"InputTextarea\" rows=\"3\" @keyup.enter=\"send\"></textarea>\n              <div class=\"InputBox-footer\">\n                <div class=\"FooterDesc\">按Enter键发送</div>\n                <button class=\"sendButton\" @click=\"send\">发送</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport NavHeader from \"@/components/NavHeader.vue\";\n\nimport util from \"@/utils/index.js\";\nimport { mapGetters, mapState } from \"vuex\";\n\nexport default {\n  name: \"contact\",\n  components: {\n    NavHeader\n  },\n  data() {\n    return {\n      uid: 0,\n      msg: \"\", //聊天信息\n      wss: null,\n      chatList: [], //聊天记录\n      userList: [],\n      currentPage: 1,\n      currentUser: {\n        id: 0\n      } //当前聊天的对象\n    };\n  },\n  computed: {\n    ...mapGetters([\"wsMsg\", \"ws\"])\n  },\n  watch: {\n    wsMsg: function(newVal) {\n      if (newVal.command == 4) {\n        console.log(newVal);\n        this.clearMsg();\n        if (\n          newVal.fromUser.id == util.getUser().id ||\n          this.currentUser.id == newVal.fromUser.id\n        ) {\n          console.log(\"更新聊天记录\");\n          this.chatList = this.chatList.concat(newVal);\n        }\n        setTimeout(() => {\n          this.scrollBottm();\n        }, 200);\n      }\n    },\n    ws: function(newVal) {\n      console.log(newVal);\n      this.wss = newVal;\n    }\n  },\n  mounted() {\n    this.uid = util.getUser().id;\n    this.wss = this.$store.state.ws;\n    if (this.$route.params.user) {\n      this.chooseUser(this.$route.params.user);\n    }\n    this.listenScroll();\n    this.getUserList();\n  },\n  methods: {\n    /**加载聊天记录\n     * @param page 聊天页数\n     * @param type 类别 1代表初次获取聊天记录 2代表加载聊天记录\n     **/\n    getChatList(page, type) {\n      this.axios\n        .get(`/chat_record?chatUserId=${this.currentUser.id}&page=${page}`)\n        .then(res => {\n          console.log(res);\n          if (res.status == 200) {\n            this.chatList = this.chatList.concat(res.data);\n            if (type == 1) {\n              this.$nextTick(() => {\n                this.scrollBottm();\n              });\n            }\n          }\n        });\n    },\n    //发送信息\n    send() {\n      let msg = {\n        toUserId: this.currentUser.id,\n        content: this.msg,\n        time: util.getTime(),\n        command: 3\n      };\n      this.wss.send(util.encode(msg));\n      this.msg = \"\";\n      this.clearMsg();\n      setTimeout(() => {\n        this.scrollBottm();\n      }, 200);\n    },\n    //选择联系人\n    chooseUser(user, index) {\n      console.log(user);\n      this.currentUser = user;\n      this.chatList = [];\n      this.getChatList(1, 1);\n      this.clearMsg();\n      this.$refs[\"header\"].getChatList();\n    },\n    //滚动条滚动到底部\n    scrollBottm() {\n      let el = this.$refs[\"MessageBox\"];\n      el.scrollTop = el.scrollHeight;\n    },\n    //监听滚动条\n    listenScroll() {\n      let ele = this.$refs[\"MessageBox\"];\n      let that = this;\n      ele.addEventListener(\"scroll\", function() {\n        let scr = ele.scrollTop; // 向上滚动的那一部分高度\n        let clientHeight = ele.clientHeight; // 屏幕高度也就是当前设备静态下你所看到的视觉高度\n        let scrHeight = ele.scrollHeight; // 整个网页的实际高度，兼容Pc端\n        if (scr == 0) {\n          console.log(\"到顶了\");\n          that.getChatList(that.currentPage++, 2);\n        }\n      });\n    },\n    //获取联系人列表\n    getUserList() {\n      this.axios.get(\"chatList\").then(res => {\n        if (res.status == 200) {\n          res.data.sort(util.sortByAttr(\"time\"));\n          res.data.map(item => {\n            item.time = util.changeTime(item.time);\n          });\n          this.userList = res.data;\n        }\n      });\n    },\n    //清除未读消息\n    clearMsg() {\n      this.axios.get(`/clear_unread_num?fromUserId=${this.currentUser.id}`);\n      this.getUserList();\n      \n    },\n    //更新userlist\n    updateUserList(newVal) {\n      for (index in this.userList) {\n        if (this.userList[index].user.id == newVal.fromUser.id) {\n          //找到了发消息的人\n          item.unreadNum = newVal.unreadNum;\n          item.content = newVal.content;\n          item.time = util.changeTime(newVal.time);\n          break;\n        }\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.Contact {\n  height: 614px;\n  width: 1002px;\n  background-color: #fff;\n  border: 1px solid #ebebeb;\n  box-shadow: 0 0 4px 0 rgba(26, 26, 26, 0.1);\n  border-radius: 3px;\n  margin: 8px auto 0;\n  display: flex;\n  //联系人\n  .ContactSide {\n    width: 286px;\n    height: 100%;\n    border-right: 1px solid #ebebeb;\n    .ContactSide-tip {\n      height: 40px;\n      line-height: 40px;\n      font-weight: 600;\n      padding: 0 30px;\n      border-bottom: 1px solid #ebebeb;\n    }\n  }\n  .ContactItem {\n    padding: 12px 20px 12px 29px;\n    cursor: pointer;\n    display: flex;\n    border-bottom: 1px solid #f7f8fa;\n    .UserContent {\n      flex: 1;\n      .UserMsg {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        .UserName {\n          font-size: 15px;\n          columns: #444444;\n          font-weight: 600;\n        }\n        .MsgTime {\n          font-size: 12px;\n          color: #999999;\n          float: right;\n        }\n      }\n    }\n  }\n  .ChooseItem {\n    background: #f5f4f4;\n  }\n  .UserAvator {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    margin-right: 10px;\n  }\n  .ContactBox {\n    width: 710px;\n    &-header {\n      font-size: 15px;\n      margin: 0 14px;\n      height: 20px;\n      padding-bottom: 9px;\n      padding-top: 21px;\n      border-bottom: 1px solid #ebebeb;\n      font-weight: 600;\n      text-align: center;\n    }\n    //聊天框\n    .MessageBox {\n      height: 362px;\n      overflow: scroll;\n      .Message {\n        display: flex;\n        margin: 20px;\n        .UserMsg {\n          max-width: 388px;\n          border-radius: 8px;\n          padding: 6px 12px;\n          font-size: 14px;\n          position: relative;\n          margin: 0 8px;\n          text-align: left;\n          white-space: pre-wrap;\n          word-break: break-all;\n        }\n        .LeftMessage {\n          background-color: #f6f6f6;\n          color: #444;\n          &::after {\n            content: \"\";\n            position: absolute;\n            width: 8px;\n            height: 8px;\n            left: -4px;\n            top: 14px;\n            background: #f6f6f6;\n            -webkit-transform: rotate(45deg);\n            transform: rotate(45deg);\n          }\n        }\n        .RightMessage {\n          background-color: #0084ff;\n          color: #fff;\n          &::after {\n            content: \"\";\n            position: absolute;\n            width: 8px;\n            height: 8px;\n            right: -4px;\n            top: 14px;\n            background: #0084ff;\n            -webkit-transform: rotate(45deg);\n            transform: rotate(45deg);\n          }\n        }\n      }\n    }\n    //输入框\n    .InputBox {\n      padding: 0 10px;\n      border-top: 1px solid #ebebeb;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      height: 170px;\n      background: #fff;\n      z-index: 10;\n      .InputTextarea {\n        margin-top: 20px;\n        width: 100%;\n        border: none;\n        font-size: 14px;\n        flex: 1;\n      }\n      &-footer {\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n        height: 50px;\n        .FooterDesc {\n          font-size: 14px;\n          color: #bfbfbf;\n          padding-right: 10px;\n        }\n        .sendButton {\n          color: #fff;\n          background-color: #0084ff;\n          border-radius: 6px;\n          width: 72px;\n          height: 32px;\n          font-size: 13px;\n          line-height: 32px;\n          text-align: center;\n        }\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}